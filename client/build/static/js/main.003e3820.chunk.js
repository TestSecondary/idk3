(this["webpackJsonpankit-react"]=this["webpackJsonpankit-react"]||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(24),c=n.n(a),s=n(7),i=n(15),o=(n(46),n(47),n(5)),l=n(4),u=n.n(l),j=n(8),d=n(9),b=n(16),p=n(3),O=n(36),m=n(19),f=(n(49),n(1)),h=["type","showPasswordIcon","error","StartIcon","containerStyle"],x=function(e){var t=e.type,n=e.showPasswordIcon,a=e.error,c=e.StartIcon,s=e.containerStyle,i=Object(O.a)(e,h),o=Object(r.useState)(!1),l=Object(d.a)(o,2),u=l[0],j=l[1],b="a-input-container ".concat(a?"input-error":""," ").concat(i.disabled?"input-disabled":"");return Object(f.jsxs)("div",{className:b,style:s,children:[c&&Object(f.jsx)(c,{style:{marginRight:10,color:"gray"}}),Object(f.jsx)("input",Object(p.a)(Object(p.a)({className:"a-input",type:n?u?"text":"password":t},i),{},{autoComplete:"new-password"})),Object(f.jsx)("div",{onClick:function(){return j((function(e){return!e}))},children:n?u?Object(f.jsx)(m.a,{color:"gray"}):Object(f.jsx)(m.b,{color:"gray"}):null})]})};x.defaultProps={type:"text"};var v=x,g=(n(51),function(e){var t=e.imageSrc,n=e.title,r=e.small,a=e.rightTitle,c="avatar-image "+(r?"avatar-small":"");return Object(f.jsxs)("div",{className:"avatar",children:[n&&Object(f.jsx)("span",{className:"avatar-title",children:n}),Object(f.jsx)("img",{src:t,alt:"avatar ",className:c}),a&&Object(f.jsx)("span",{className:"avatar-title",children:a})]})}),y=function(e){var t=e.avatars;return Object(f.jsx)("div",{className:"group-avatar",children:t.map((function(e,n){return n<4?Object(f.jsx)("img",{className:"avatar-image avatar-small",src:e,style:{transform:"translateX(".concat(-15*(n+1)+"px",")")},alt:"group avatar"},n):4===n?Object(f.jsxs)("div",{className:"avatar-image avatar-remaing-count",children:["+",t.length-4]},n):null}))})},w=(n(52),"TODO_GET_TODOS"),N="TODO_ERROR",S="TODO_APPEND_TODO",k="TODO_DELETE_TODO",C=function(e,t,n){return function(){var r=Object(j.a)(u.a.mark((function r(a){var c,s;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("/api/create",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({title:e,description:t,status:n})});case 3:return c=r.sent,r.next=6,c.json();case 6:return(s=r.sent).success&&a({type:S,payload:s.todo}),r.abrupt("return",s);case 11:return r.prev=11,r.t0=r.catch(0),r.abrupt("return",{success:!1,error:"server error"});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(j.a)(u.a.mark((function t(n){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/search/"+e,{method:"get",credentials:"include"});case 3:if(!(r=t.sent).ok){t.next=10;break}return t.next=7,r.json();case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Promise.reject();case 11:(a=t.t0).success&&n({type:w,payload:a.data}),t.next=18;break;case 15:t.prev=15,t.t1=t.catch(0),alert("something went wrong");case 18:return t.abrupt("return",!0);case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(j.a)(u.a.mark((function t(n){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/delete/"+e,{method:"delete",credentials:"include"});case 3:if(!(r=t.sent).ok){t.next=10;break}return t.next=7,r.json();case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Promise.reject();case 11:return(a=t.t0).success&&n({type:k,todo_id:e}),t.abrupt("return",a.success);case 16:t.prev=16,t.t1=t.catch(0),alert("something went wrong");case 19:return t.abrupt("return",!1);case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}()},T=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.user})),n=t.fullname,a=t.users,c=Object(r.useState)(""),i=Object(d.a)(c,2),o=i[0],l=i[1],p=Object(r.useState)(!1),O=Object(d.a)(p,2),m=O[0],h=O[1],x=function(){var t=Object(j.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Enter"!==n.key){t.next=5;break}return h(!0),t.next=4,e(E(o));case 4:h(!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"top-bar",children:[Object(f.jsx)("div",{className:"search-baar",children:m?Object(f.jsx)("p",{style:{marginLeft:25},children:"loading..."}):Object(f.jsx)(v,{type:"text",value:o,placeholder:"Search",StartIcon:b.c,onKeyPress:x,onChange:function(e){return l(e.target.value)},containerStyle:{border:"none",padding:0}})}),Object(f.jsx)(y,{avatars:a.map((function(e){return e.image||"/user.jpg"}))}),Object(f.jsx)(g,{title:"Hi ".concat(n),imageSrc:"/user.jpg"})]})},M=n(14),I=(n(53),"USERS_SET_LOGIN_INFO"),P="USER_LOGOUT",D="USER_SET_ALL_USERS",R=function(e,t,n){return function(){var r=Object(j.a)(u.a.mark((function r(a){var c,s;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("/user/signup",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullname:e,email:t,password:n})});case 3:return c=r.sent,r.next=6,c.json();case 6:return(s=r.sent).success&&a({type:I,data:s.data,isOnline:!0}),r.abrupt("return",s);case 11:return r.prev=11,r.t0=r.catch(0),r.abrupt("return",{success:!1,error:{server:"cannot fetch data"}});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()},B=function(e,t){return function(){var n=Object(j.a)(u.a.mark((function n(r){var a,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/user/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});case 3:return a=n.sent,n.next=6,a.json();case 6:return(c=n.sent).success&&r({type:I,data:c.data,isOnline:!0}),n.abrupt("return",c);case 11:return n.prev=11,n.t0=n.catch(0),n.abrupt("return",{success:!1,errors:{data:"something went wrong"}});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},L=function(e,t,n){return function(){var r=Object(j.a)(u.a.mark((function r(a,c){var s,i,o;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=c().user.user_id,r.prev=1,r.next=4,fetch("/user/update-info",{method:"put",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullname:e,email:t,image:n,_id:s})});case 4:return i=r.sent,r.next=7,i.json();case 7:return(o=r.sent).success&&a({type:I,data:o.data,isOnline:!0}),r.abrupt("return",o);case 12:return r.prev=12,r.t0=r.catch(1),console.log(r.t0.message),r.abrupt("return",{success:!1,error:r.t0.message});case 16:case"end":return r.stop()}}),r,null,[[1,12]])})));return function(e,t){return r.apply(this,arguments)}}()},z=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.user})),n=t.fullname,a=t.email,c=t.image,i=Object(r.useState)({fullname:"",email:"",image:"",disableFullname:!0,disableEmail:!0}),o=Object(d.a)(i,2),l=o[0],O=o[1];Object(r.useEffect)((function(){O((function(e){return Object(p.a)(Object(p.a)({},e),{},{fullname:n,email:a,image:c})}))}),[n,a,c]);var m=function(e){return O((function(t){return Object(p.a)(Object(p.a)({},t),{},Object(M.a)({},e.target.name,e.target.value))}))},h=function(){var t=Object(j.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(L(l.fullname,l.email,l.image));case 2:t.sent.success;case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"flex flex-center",children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsxs)("div",{className:"card-image",children:[Object(f.jsx)("img",{src:c||"/user.jpg",alt:"John",style:{width:"100%"}}),Object(f.jsx)("div",{className:"edit-icon",children:Object(f.jsx)(b.a,{})})]}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"flex align-items-center",children:[Object(f.jsx)("p",{children:"Full Name"}),"\xa0",Object(f.jsx)(b.a,{onClick:function(){return O((function(e){return Object(p.a)(Object(p.a)({},e),{},{disableFullname:!l.disableFullname,fullname:n})}))}})]}),Object(f.jsx)(v,{name:"fullname",value:l.fullname,onChange:m,disabled:l.disableFullname})]}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"flex align-items-center",children:[Object(f.jsx)("p",{children:"Email"}),"\xa0",Object(f.jsx)(b.a,{onClick:function(){return O((function(e){return Object(p.a)(Object(p.a)({},e),{},{disableEmail:!l.disableEmail,email:a})}))}})]}),Object(f.jsx)(v,{name:"email",value:l.email,onChange:m,disabled:l.disableEmail})]}),Object(f.jsx)("p",{children:Object(f.jsx)("button",{className:"button todo-button",onClick:h,children:"Save"})})]})})},F=n(20),J={titleStyle:{opacity:.6,width:150},textStyle:{opacity:.8}},U=function(){var e=Object(o.h)(),t=Object(s.b)(),n=Object(o.g)(),r=e.state.todo,a=r._id,c=r.title,i=r.description,l=r.userId,d=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("are you sure you want to delte this todo")){e.next=6;break}return e.next=4,t(_(a));case 4:e.sent?n.push("/main/projects"):alert("something went wrong");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{children:[Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"flex-space-between",children:[Object(f.jsx)("h4",{children:c}),Object(f.jsx)(F.a,{size:32,color:"gray",className:"cursor-pointer",onClick:d})]}),Object(f.jsxs)("div",{className:"flex align-items-center",children:[Object(f.jsx)("span",{style:J.titleStyle,children:"Created By"})," ",Object(f.jsx)(g,{small:!0,imageSrc:l.image||"/user.jpg",rightTitle:l.fullname})]}),Object(f.jsxs)("div",{className:"flex align-items-center",children:[Object(f.jsx)("span",{style:J.titleStyle,children:"Description"}),Object(f.jsxs)("p",{style:J.textStyle,children:[i," "]})]})]})},A=function(e){e.pageName;return Object(f.jsx)("div",{className:"flex flex-center height-100",children:Object(f.jsx)("div",{children:Object(f.jsx)("h1",{children:"Comming Soon..."})})})},G=n(17),X=(n(58),n(59),function(e){var t=e.todo,n=e.dragStart,r=e.dragEnd,a=Object(o.g)();return Object(f.jsxs)("div",{draggable:"true",className:"todo",onClick:function(){return a.push("/main/edit-todo",{todo:t})},onDragStart:function(){return n(t._id)},onDragEnd:r,children:[Object(f.jsx)("h5",{className:"todo-title",children:t.title}),Object(f.jsx)("p",{className:"todo-description",children:t.description}),Object(f.jsxs)("div",{className:"flex-space-between",children:[Object(f.jsx)(g,{small:!0,imageSrc:"/user.jpg"}),Object(f.jsx)(G.b,{color:"gray"})]})]})}),H=function(e){var t=Object(s.b)(),n=Object(r.useState)({title:"",description:"",error:""}),a=Object(d.a)(n,2),c=a[0],i=a[1],o=function(e){return i((function(t){return Object(p.a)(Object(p.a)({},t),{},Object(M.a)({error:""},e.target.name,e.target.value))}))},l=function(){var n=Object(j.a)(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(C(c.title,c.description,e.status));case 2:(r=n.sent).success?e.closeAddTodo():(alert("something went wrong"),i((function(e){return Object(p.a)(Object(p.a)({},e),{},{error:r.error})})));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"todo",children:[Object(f.jsx)("span",{style:{color:"red",fontSize:12},children:c.error}),Object(f.jsx)(v,{type:"text",name:"title",value:c.title,onChange:o,placeholder:"Give your task a title",containerStyle:{border:"none",padding:0}}),Object(f.jsx)("textarea",{name:"description",rows:5,value:c.description,onChange:o,placeholder:"Description..."}),Object(f.jsx)("button",{className:"todo-button",onClick:l,children:"Add"})]})},K=function(e){var t=e.name,n=e.todos,a=e.dragStart,c=e.dragEnd,s=e.drop,i=Object(r.useState)(!1),o=Object(d.a)(i,2),l=o[0],u=o[1],j=function(){return u((function(e){return!e}))};return Object(f.jsxs)("div",{className:"todo-section-container",onDrop:function(){return s(t)},onDragOver:function(e){e.preventDefault()},children:[Object(f.jsxs)("div",{className:"flex-space-between",children:[Object(f.jsx)("p",{className:"todo-name",children:t}),Object(f.jsx)("p",{className:"todo-button",children:n.length})]}),Object(f.jsx)("button",{className:"todo-button width-100",onClick:j,children:"+"}),l&&Object(f.jsx)(H,{status:t,closeAddTodo:j}),n.map((function(e,t){return Object(f.jsx)(X,{todo:e,dragStart:a,dragEnd:c},t)}))]})};K.defaultProps={todos:[],name:"Name"};var V=K,W=(n(60),function(){var e=Object(s.b)();Object(r.useEffect)((function(){e(function(){var e=Object(j.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/index",{method:"get",credentials:"include"});case 3:if(!(n=e.sent).ok){e.next=10;break}return e.next=7,n.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=Promise.reject();case 11:(r=e.t0).success?t({type:w,payload:r.data}):t({type:N,payload:"Not sign in"}),e.next=18;break;case 15:e.prev=15,e.t1=e.catch(0),t({type:N,payload:"something went wrong"});case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=Object(s.c)((function(e){return e.todo})).todos,n=Object(r.useRef)(""),a=function(e){return n.current=e},c=function(){return n.current=""},i=function(t){return e(function(e,t){return function(n,r){var a=r().todo.todos,c=a.find((function(t){return t._id===e}));if(c.status!==t){var s=a.map((function(n){return n._id===e&&(n.status=t),n}));n({type:w,payload:s}),fetch("/api/update/".concat(e),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:c.title,description:c.description,status:t})}).then((function(){})).catch((function(){}))}}}(n.current,t))};return Object(f.jsxs)("div",{children:[Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"flex-space-between",children:[Object(f.jsx)("h4",{children:"Projects"}),Object(f.jsxs)("div",{style:{cursor:"pointer"},children:[Object(f.jsx)(G.c,{color:"gray",size:15,className:"mr-15"}),Object(f.jsx)("span",{className:"gray-text",children:"Filter"})]})]}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"flex-space-between flex-gap-25",style:{alignItems:"flex-start"},children:[Object(f.jsx)(V,{name:"To do",dragStart:a,dragEnd:c,drop:i,todos:t.filter((function(e){return"To do"===e.status}))}),Object(f.jsx)(V,{name:"In Progress",dragStart:a,dragEnd:c,drop:i,todos:t.filter((function(e){return"In Progress"===e.status}))}),Object(f.jsx)(V,{name:"Completed",dragStart:a,dragEnd:c,drop:i,todos:t.filter((function(e){return"Completed"===e.status}))})]})]})}),q=(n(61),[{Icon:F.d,title:"Overview",url:"/overview"},{Icon:G.d,title:"Stats",url:"/stats"},{Icon:F.c,title:"Projects",url:"/projects"},{Icon:G.a,title:"Chat",url:"/chat"},{Icon:F.b,title:"Calendar",url:"/calendar"}]),Q=function(){var e=Object(s.b)();return Object(f.jsx)("div",{className:"main-left-navigation-container",children:Object(f.jsxs)("div",{className:"main-left-navigation",children:[Object(f.jsxs)("div",{className:"nav-link-group",children:[Object(f.jsx)("p",{className:"nav-logo",children:".taskez"}),q.map((function(e){var t=e.Icon,n=e.title,r=e.url;return Object(f.jsx)(i.b,{to:"/main"+r,activeClassName:"nav-active",children:Object(f.jsxs)("div",{className:"nav-link",children:[Object(f.jsx)(t,{className:"nav-icon"}),Object(f.jsx)("span",{className:"nav-title",children:n})]})},n)}))]}),Object(f.jsxs)("div",{className:"nav-link-group nav-bottom-link",children:[Object(f.jsx)(i.b,{to:"/main/settings",activeClassName:"nav-active",children:Object(f.jsxs)("div",{className:"nav-link",children:[Object(f.jsx)(m.c,{className:"nav-icon"}),Object(f.jsx)("span",{className:"nav-title",children:"Settings"})]})}),Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"nav-link",onClick:function(){return e(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/user/logout");case 2:t({type:P});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:[Object(f.jsx)(b.b,{className:"nav-icon"}),Object(f.jsx)("span",{className:"nav-title",children:"Logout"})]})})]})]})})},Y=(n(62),function(){var e=Object(o.i)().path,t=Object(s.b)();return Object(r.useEffect)((function(){t(function(){var e=Object(j.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/user/all-user");case 3:return n=e.sent,e.next=6,n.json();case 6:return(r=e.sent).success&&t({type:D,payload:r.data}),e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0.message),e.abrupt("return",{success:!1,error:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),[t]),Object(f.jsxs)("div",{className:"main-container",children:[Object(f.jsx)(Q,{}),Object(f.jsxs)("div",{className:"main-content",children:[Object(f.jsx)(T,{}),Object(f.jsxs)(o.d,{children:[Object(f.jsx)(o.b,{path:e+"/projects",component:W}),Object(f.jsx)(o.b,{path:e+"/edit-todo",component:U}),Object(f.jsx)(o.b,{path:e+"/settings",component:z}),Object(f.jsx)(o.b,{path:e+"/overview",component:A}),Object(f.jsx)(o.b,{path:e+"/stats",component:A}),Object(f.jsx)(o.b,{path:e+"/chat",component:A}),Object(f.jsx)(o.b,{path:e+"/calendar",component:A}),Object(f.jsx)(o.b,{exact:!0,path:e,children:Object(f.jsx)(o.a,{to:e+"/projects"})})]})]})]})}),Z=(n(63),n(26)),$=n(33),ee=n(32),te=(n(64),function(e){var t=e.checked,n=e.title,r=e.onClick,a=e.titleStyle,c=void 0===a?{}:a;return Object(f.jsxs)("div",{onClick:r,className:"checkbox",children:[t?Object(f.jsx)(ee.a,{className:"checkbox-check"}):Object(f.jsx)($.a,{className:"checkbox-check"}),Object(f.jsx)("label",{style:c,children:n})]})}),ne=function(){var e=Object(o.g)(),t=Object(s.b)(),n=Object(r.useState)({rememberMe:!1,disableButton:!1,email:"",password:"",errors:{}}),a=Object(d.a)(n,2),c=a[0],i=a[1];Object(r.useEffect)((function(){var e="true"===localStorage.getItem("rememberMe");e&&i((function(t){return Object(p.a)(Object(p.a)({},t),{},{email:localStorage.email,password:localStorage.password||"",rememberMe:e})}))}),[]);var l=function(e){var t=Object(p.a)({},c.errors);delete t[e.target.name],i((function(n){var r;return Object(p.a)(Object(p.a)({},n),{},(r={},Object(M.a)(r,e.target.name,e.target.value),Object(M.a)(r,"errors",t),r))}))},b=function(){var n=Object(j.a)(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i((function(e){return Object(p.a)(Object(p.a)({},e),{},{disableButton:!0})})),n.next=3,t(B(c.email,c.password));case 3:r=n.sent,i((function(e){return Object(p.a)(Object(p.a)({},e),{},{disableButton:!1})})),r.success?(c.rememberMe?(localStorage.rememberMe=c.rememberMe.toString(),localStorage.email=c.email,localStorage.password=c.password):localStorage.rememberMe&&!c.rememberMe&&localStorage.clear(),e.push("/main/projects")):i((function(e){return Object(p.a)(Object(p.a)({},e),{},{errors:r.errors})}));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"login-part",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{className:"blue-text",style:{fontSize:24,margin:0},children:"To Continue"}),Object(f.jsx)("p",{style:{fontSize:12,margin:0,color:"gray"},children:"We need your Email & Password"})]}),Object(f.jsx)(v,{type:"text",value:c.email,onChange:l,name:"email",placeholder:"Email",error:c.errors.email}),Object(f.jsx)(v,{type:"password",value:c.password,onChange:l,name:"password",placeholder:"Password",showPasswordIcon:!0,error:c.errors.password}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:"button button-lg",onClick:b,disabled:c.disableButton,children:"Login"})}),Object.keys(c.errors).length?Object(f.jsxs)("p",{className:"danger-text center-text small-text",children:[Object(f.jsx)(Z.a,{})," ",Object.values(c.errors)[0]]}):null,Object(f.jsx)(te,{checked:c.rememberMe,title:"Remember Me",onClick:function(){return i((function(e){return Object(p.a)(Object(p.a)({},e),{},{rememberMe:!c.rememberMe})}))},titleStyle:{fontSize:12}})]})},re=function(){var e=Object(o.g)(),t=Object(s.b)(),n=Object(r.useState)({rememberMe:!1,disableButton:!1,email:"",fullname:"",password:"",errors:{}}),a=Object(d.a)(n,2),c=a[0],i=a[1],l=function(e){var t=Object(p.a)({},c.errors);delete t[e.target.name],i((function(n){var r;return Object(p.a)(Object(p.a)({},n),{},(r={},Object(M.a)(r,e.target.name,e.target.value),Object(M.a)(r,"errors",t),r))}))},b=function(){var n=Object(j.a)(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i((function(e){return Object(p.a)(Object(p.a)({},e),{},{disableButton:!0})})),n.next=3,t(R(c.fullname,c.email,c.password));case 3:r=n.sent,i((function(e){return Object(p.a)(Object(p.a)({},e),{},{disableButton:!1})})),r.success?(c.rememberMe?(localStorage.rememberMe=c.rememberMe.toString(),localStorage.email=c.email,localStorage.password=c.password):localStorage.rememberMe&&!c.rememberMe&&localStorage.clear(),e.push("/main/projects")):i((function(e){return Object(p.a)(Object(p.a)({},e),{},{errors:r.errors})}));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"login-part",children:[Object(f.jsx)(v,{type:"text",value:c.fullname,name:"fullname",placeholder:"Full Name",onChange:l,error:c.errors.fullname}),Object(f.jsx)(v,{type:"text",value:c.email,name:"email",placeholder:"Email",onChange:l,error:c.errors.email}),Object(f.jsx)(v,{type:"password",value:c.password,name:"password",placeholder:"Password",showPasswordIcon:!0,onChange:l,error:c.errors.password}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{disabled:c.disableButton,className:"button button-lg",onClick:b,children:"Sign up"})}),Object.keys(c.errors).length?Object(f.jsxs)("p",{className:"danger-text center-text small-text",children:[Object(f.jsx)(Z.a,{})," ",Object.values(c.errors)[0]]}):null,Object(f.jsx)(te,{checked:c.rememberMe,title:"Remember Me",onClick:function(){return i((function(e){return Object(p.a)(Object(p.a)({},e),{},{rememberMe:!c.rememberMe})}))},titleStyle:{fontSize:12}})]})},ae=function(){var e=Object(r.useState)("login"),t=Object(d.a)(e,2),n=t[0],a=t[1];return Object(f.jsxs)("div",{className:"login-right-section-container",children:[Object(f.jsx)("div",{className:"login-switch",children:Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{onClick:function(){return a("login")},className:"login"===n?"active":"",children:"Login"}),Object(f.jsx)("span",{onClick:function(){return a("signup")},className:"signup"===n?"active ml-25":"ml-25",children:"Sign up"})]})}),"login"===n?Object(f.jsx)(ne,{}):"signup"===n?Object(f.jsx)(re,{}):null]})},ce=(n(65),function(){return Object(f.jsxs)("div",{className:"login-page container",children:[Object(f.jsx)("div",{className:"login-hero-image",children:Object(f.jsx)("img",{src:"/todo.png",width:400,height:400,alt:"initial login todo"})}),Object(f.jsx)("div",{children:Object(f.jsx)(ae,{})})]})}),se=function(e){return Object(s.c)((function(e){return e.user})).isOnline?Object(f.jsx)(o.b,Object(p.a)({},e)):Object(f.jsx)(o.a,{to:"/login"})},ie=function(){var e=Object(s.b)(),t=Object(o.g)();return Object(r.useEffect)((function(){e(function(){var e=Object(j.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/user/verify-token");case 3:return n=e.sent,e.next=6,n.json();case 6:return(r=e.sent).success&&t({type:I,data:r.data,isOnline:!0}),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()).then((function(e){e&&t.push("/main/projects")}))}),[e,t]),Object(f.jsxs)(o.d,{children:[Object(f.jsx)(o.b,{path:"/login",component:ce}),Object(f.jsx)(se,{path:"/main",component:Y}),Object(f.jsx)(o.b,{exact:!0,path:"/",children:Object(f.jsx)(o.a,{to:"/login"})})]})},oe=n(23),le=n(34),ue=n(35),je={todos:[],error:""},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(p.a)(Object(p.a)({},e),{},{error:"",todos:t.payload});case N:return Object(p.a)(Object(p.a)({},e),{},{error:t.payload});case S:return Object(p.a)(Object(p.a)({},e),{},{todos:[t.payload].concat(Object(ue.a)(e.todos))});case k:return Object(p.a)(Object(p.a)({},e),{},{todos:e.todos.filter((function(e){return e._id!==t.todo_id}))});default:return e}},be={user_id:"",fullname:"",email:"",image:"",isOnline:!1,users:[]},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(p.a)(Object(p.a)({},e),{},{user_id:t.data._id,fullname:t.data.fullname,email:t.data.email,isOnline:t.isOnline,image:t.data.image});case P:return Object(p.a)({},be);case D:return Object(p.a)(Object(p.a)({},e),{},{users:t.payload});default:return e}},Oe=Object(oe.b)({todo:de,user:pe}),me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||oe.c,fe=Object(oe.d)(Oe,me(Object(oe.a)(le.a)));c.a.render(Object(f.jsx)(s.a,{store:fe,children:Object(f.jsx)(i.a,{children:Object(f.jsx)(ie,{})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.003e3820.chunk.js.map